class GameInstance{constructor(e){this.elements={},this.ctx=e,this.playState="play",this.sketch=new p5(e=>{e.setup=this.setup.bind(this,e),e.draw=this.draw.bind(this,e)}),this.snake=new Snake({p:this.sketch,...e,elements:this.elements}),this.snake.addBrain(new Brain(this.ctx)),this.game=new Game({p:this.sketch,...e,elements:this.elements}),this.game.addSnake(this.snake),this.game.newBait(),this.snake.look()}setPlayState(e){switch(this.playState=e,this.playState){case"play":this.sketch.loop();break;case"pause":this.sketch.noLoop();break;default:this.sketch.loop()}}setPlayerMode(){this.sketch.keyPressed=()=>{this.sketch.keyCode===this.sketch.LEFT_ARROW?this.snake.setHeading(-1,0):this.sketch.keyCode===this.sketch.RIGHT_ARROW?this.snake.setHeading(1,0):this.sketch.keyCode===this.sketch.UP_ARROW?this.snake.setHeading(0,-1):this.sketch.keyCode===this.sketch.DOWN_ARROW&&this.snake.setHeading(0,1)}}setup(e){let t=e.select("#globalParentDiv"),s=e.createDiv();s.class("game"),t.child(s);let h=e.createSpan("Score: "+(this.game.score||"NA")),i=e.createSpan("Life: "+(this.snake.life||"NA"));this.elements.score=h,this.elements.life=i,s.child(h),s.child(i),this.elements.canvas=e.createCanvas(this.ctx.w,this.ctx.h),s.child(this.elements.canvas),this.elements.container=s}draw(e){e.frameRate(this.ctx.fps),this.game.render(),this.game.step()}}
//# sourceMappingURL=../maps/snake2/gameInstance.min.js.map
